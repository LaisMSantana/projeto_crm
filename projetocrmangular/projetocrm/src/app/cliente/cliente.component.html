<div class="container-fluid">
  <h1>Cadastro Cliente</h1>
  <div class="alert alert-danger" *ngIf="errorMsg">
    {{errorMsg}}
  </div>
  <div class="alert alert-success" *ngIf="succsessMsg && !hideSuccessMessage">
    <strong [ngClass] ="FadeOutSuccessMsg()"> Cliente salvo com sucesso! </strong>
  </div>
  <form #userForm="ngForm" (ngSubmit)="onSubmit(clienteModel)"  novalidate >

    <div class="form-group">
      <label>Nome</label>
      <input type="text" required #nome="ngModel" [class.is-invalid]="nome.invalid && nome.touched" class="form-control" name="nome" [(ngModel)]="clienteModel.NOME">
      <small class="text-danger"[class.d-none]="nome.valid || nome.untouched" >Nome é obrigatório</small>
    </div>

    <div class="form-group">
      <label>CPF</label>
      <input type="cpf" required #cpf="ngModel" pattern="^\d{10}[0-9]$" [class.is-invalid]="cpf.invalid && cpf.touched" class="form-control" name="cpf" [(ngModel)]="clienteModel.CPF">
      <small class="text-danger"[class.d-none]="cpf.valid || cpf.untouched" >CPF é obrigatório e possui 11 digitos</small>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input type="email" required #email="ngModel" [class.is-invalid]="email.invalid && email.touched" class="form-control" name="email"
      pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" placeholder="*exemplo@email.com" [(ngModel)]="clienteModel.EMAIL">
      <small class="text-danger"[class.d-none]="email.valid || email.untouched">Email é obrigatório</small>
    </div>

    <div class="form-group">
      <label>Data de Nascimento</label>
      <input type="date"  placeholder="yyyy-MM-dd" required #dataDeNascimento="ngModel" [class.is-invalid]="dataDeNascimento.invalid && dataDeNascimento.touched" class="form-control" name="dataDeNascimento"
      [(ngModel)]="clienteModel.DATA_NASCIMENTO">
      <small class="text-danger"[class.d-none]="dataDeNascimento.valid || dataDeNascimento.untouched" >Data de nascimento é obrigatório</small>
    </div>

    <!-- <div>
      <input type="file" (change)="onFileSelected($event)">
    </div> -->

    <button [disabled]="userForm.form.invalid" class="btn btn-primary" type="submit">Salvar</button>
    <button class="btn btn-primary" type="reset">Limpar Formulário</button>

  </form>

</div>

<router-outlet></router-outlet>
